@page "/CompleteRegistration/{Model}"
@using System.Net
@using HarrisPharmacy.App.Models
@using Microsoft.JSInterop
@using Rsk.AspNetCore.Fido.Dtos
@using Microsoft.AspNetCore.Mvc;
@using Rsk.AspNetCore.Fido.Models
@using static Rsk.AspNetCore.Fido.Dtos.Base64FidoRegistrationChallenge
@inject IJSRuntime JsRuntime
@inject HttpClient httpClient

@code {
    [Parameter]
    public Base64FidoRegistrationChallenge Model { get; set; }
}

@functions{
    protected override async Task OnInitializedAsync()
    {
        object[] args = new object[1];
        args[0] = Model;
        fidoRegister(args);
    }

    static void fidoRegister(object[] args)
    {
        Base64FidoAuthenticationChallenge res = JSRuntime.InvokeAsync<Base64FidoRegistrationChallenge>("fidoRegister", args);
    }
}